
/**
 * Tweenjs - Licensed under the MIT license
 * Thank you all, you're awesome!
 */
var _Group=function(){this._tweens={};this._tweensAddedDuringUpdate={}};_Group.prototype={getAll:function(){return Object.keys(this._tweens).map(function(a){return this._tweens[a]}.bind(this))},removeAll:function(){this._tweens={}},add:function(a){this._tweens[a.getId()]=a;this._tweensAddedDuringUpdate[a.getId()]=a},remove:function(a){delete this._tweens[a.getId()];delete this._tweensAddedDuringUpdate[a.getId()]},update:function(e,c){var d=Object.keys(this._tweens);if(d.length===0){return false}e=e!==undefined?e:TWEEN.now();while(d.length>0){this._tweensAddedDuringUpdate={};for(var b=0;b<d.length;b++){var a=this._tweens[d[b]];if(a&&a.update(e)===false){a._isPlaying=false;if(!c){delete this._tweens[d[b]]}}}d=Object.keys(this._tweensAddedDuringUpdate)}return true}};var TWEEN=new _Group();TWEEN.Group=_Group;TWEEN._nextId=0;TWEEN.nextId=function(){return TWEEN._nextId++};if(typeof(self)==="undefined"&&typeof(process)!=="undefined"&&process.hrtime){TWEEN.now=function(){var a=process.hrtime();return a[0]*1000+a[1]/1000000}}else{if(typeof(self)!=="undefined"&&self.performance!==undefined&&self.performance.now!==undefined){TWEEN.now=self.performance.now.bind(self.performance)}else{if(Date.now!==undefined){TWEEN.now=Date.now}else{TWEEN.now=function(){return new Date().getTime()}}}}TWEEN.Tween=function(a,b){this._object=a;this._valuesStart={};this._valuesEnd={};this._valuesStartRepeat={};this._duration=1000;this._repeat=0;this._repeatDelayTime=undefined;this._yoyo=false;this._isPlaying=false;this._reversed=false;this._delayTime=0;this._startTime=null;this._easingFunction=TWEEN.Easing.Linear.None;this._interpolationFunction=TWEEN.Interpolation.Linear;this._chainedTweens=[];this._onStartCallback=null;this._onStartCallbackFired=false;this._onUpdateCallback=null;this._onRepeatCallback=null;this._onCompleteCallback=null;this._onStopCallback=null;this._group=b||TWEEN;this._id=TWEEN.nextId()};TWEEN.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(a,b){this._valuesEnd=Object.create(a);if(b!==undefined){this._duration=b}return this},duration:function duration(a){this._duration=a;return this},start:function(b){this._group.add(this);this._isPlaying=true;this._onStartCallbackFired=false;this._startTime=b!==undefined?typeof b==="string"?TWEEN.now()+parseFloat(b):b:TWEEN.now();this._startTime+=this._delayTime;for(var a in this._valuesEnd){if(this._valuesEnd[a] instanceof Array){if(this._valuesEnd[a].length===0){continue}this._valuesEnd[a]=[this._object[a]].concat(this._valuesEnd[a])}if(this._object[a]===undefined){continue}this._valuesStart[a]=this._object[a];if((this._valuesStart[a] instanceof Array)===false){this._valuesStart[a]*=1}this._valuesStartRepeat[a]=this._valuesStart[a]||0}return this},stop:function(){if(!this._isPlaying){return this}this._group.remove(this);this._isPlaying=false;if(this._onStopCallback!==null){this._onStopCallback(this._object)}this.stopChainedTweens();return this},end:function(){this.update(Infinity);return this},stopChainedTweens:function(){for(var b=0,a=this._chainedTweens.length;b<a;b++){this._chainedTweens[b].stop()}},group:function(a){this._group=a;return this},delay:function(a){this._delayTime=a;return this},repeat:function(a){this._repeat=a;return this},repeatDelay:function(a){this._repeatDelayTime=a;return this},yoyo:function(a){this._yoyo=a;return this},easing:function(a){this._easingFunction=a;return this},interpolation:function(a){this._interpolationFunction=a;return this},chain:function(){this._chainedTweens=arguments;return this},onStart:function(a){this._onStartCallback=a;return this},onUpdate:function(a){this._onUpdateCallback=a;return this},onRepeat:function onRepeat(a){this._onRepeatCallback=a;return this},onComplete:function(a){this._onCompleteCallback=a;return this},onStop:function(a){this._onStopCallback=a;return this},update:function(b){var h;var j;var g;if(b<this._startTime){return true}if(this._onStartCallbackFired===false){if(this._onStartCallback!==null){this._onStartCallback(this._object)}this._onStartCallbackFired=true}j=(b-this._startTime)/this._duration;j=(this._duration===0||j>1)?1:j;g=this._easingFunction(j);for(h in this._valuesEnd){if(this._valuesStart[h]===undefined){continue}var a=this._valuesStart[h]||0;var c=this._valuesEnd[h];if(c instanceof Array){this._object[h]=this._interpolationFunction(c,g)}else{if(typeof(c)==="string"){if(c.charAt(0)==="+"||c.charAt(0)==="-"){c=a+parseFloat(c)}else{c=parseFloat(c)}}if(typeof(c)==="number"){this._object[h]=a+(c-a)*g}}}if(this._onUpdateCallback!==null){this._onUpdateCallback(this._object,j)}if(j===1){if(this._repeat>0){if(isFinite(this._repeat)){this._repeat--}for(h in this._valuesStartRepeat){if(typeof(this._valuesEnd[h])==="string"){this._valuesStartRepeat[h]=this._valuesStartRepeat[h]+parseFloat(this._valuesEnd[h])}if(this._yoyo){var d=this._valuesStartRepeat[h];this._valuesStartRepeat[h]=this._valuesEnd[h];this._valuesEnd[h]=d}this._valuesStart[h]=this._valuesStartRepeat[h]
}if(this._yoyo){this._reversed=!this._reversed}if(this._repeatDelayTime!==undefined){this._startTime=b+this._repeatDelayTime}else{this._startTime=b+this._delayTime}if(this._onRepeatCallback!==null){this._onRepeatCallback(this._object)}return true}else{if(this._onCompleteCallback!==null){this._onCompleteCallback(this._object)}for(var e=0,f=this._chainedTweens.length;e<f;e++){this._chainedTweens[e].start(this._startTime+this._duration)}return false}}return true}};TWEEN.Easing={Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){if((a*=2)<1){return 0.5*a*a}return -0.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*a*a},Out:function(a){return --a*a*a+1},InOut:function(a){if((a*=2)<1){return 0.5*a*a*a}return 0.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1-(--a*a*a*a)},InOut:function(a){if((a*=2)<1){return 0.5*a*a*a*a}return -0.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*a*a*a*a},Out:function(a){return --a*a*a*a*a+1},InOut:function(a){if((a*=2)<1){return 0.5*a*a*a*a*a}return 0.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},InOut:function(a){return 0.5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return a===0?0:Math.pow(1024,a-1)},Out:function(a){return a===1?1:1-Math.pow(2,-10*a)},InOut:function(a){if(a===0){return 0}if(a===1){return 1}if((a*=2)<1){return 0.5*Math.pow(1024,a-1)}return 0.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-Math.sqrt(1-a*a)},Out:function(a){return Math.sqrt(1-(--a*a))},InOut:function(a){if((a*=2)<1){return -0.5*(Math.sqrt(1-a*a)-1)}return 0.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){if(a===0){return 0}if(a===1){return 1}return -Math.pow(2,10*(a-1))*Math.sin((a-1.1)*5*Math.PI)},Out:function(a){if(a===0){return 0}if(a===1){return 1}return Math.pow(2,-10*a)*Math.sin((a-0.1)*5*Math.PI)+1},InOut:function(a){if(a===0){return 0}if(a===1){return 1}a*=2;if(a<1){return -0.5*Math.pow(2,10*(a-1))*Math.sin((a-1.1)*5*Math.PI)}return 0.5*Math.pow(2,-10*(a-1))*Math.sin((a-1.1)*5*Math.PI)+1}},Back:{In:function(a){var b=1.70158;return a*a*((b+1)*a-b)},Out:function(a){var b=1.70158;return --a*a*((b+1)*a+b)+1},InOut:function(a){var b=1.70158*1.525;if((a*=2)<1){return 0.5*(a*a*((b+1)*a-b))}return 0.5*((a-=2)*a*((b+1)*a+b)+2)}},Bounce:{In:function(a){return 1-TWEEN.Easing.Bounce.Out(1-a)},Out:function(a){if(a<(1/2.75)){return 7.5625*a*a}else{if(a<(2/2.75)){return 7.5625*(a-=(1.5/2.75))*a+0.75}else{if(a<(2.5/2.75)){return 7.5625*(a-=(2.25/2.75))*a+0.9375}else{return 7.5625*(a-=(2.625/2.75))*a+0.984375}}}},InOut:function(a){if(a<0.5){return TWEEN.Easing.Bounce.In(a*2)*0.5}return TWEEN.Easing.Bounce.Out(a*2-1)*0.5+0.5}}};TWEEN.Interpolation={Linear:function(c,b){var a=c.length-1;var g=a*b;var d=Math.floor(g);var e=TWEEN.Interpolation.Utils.Linear;if(b<0){return e(c[0],c[1],g)}if(b>1){return e(c[a],c[a-1],a-g)}return e(c[d],c[d+1>a?a:d+1],g-d)},Bezier:function(d,c){var a=0;var h=d.length-1;var f=Math.pow;var g=TWEEN.Interpolation.Utils.Bernstein;for(var e=0;e<=h;e++){a+=f(1-c,h-e)*f(c,e)*d[e]*g(h,e)}return a},CatmullRom:function(c,b){var a=c.length-1;var g=a*b;var d=Math.floor(g);var e=TWEEN.Interpolation.Utils.CatmullRom;if(c[0]===c[a]){if(b<0){d=Math.floor(g=a*(1+b))}return e(c[(d-1+a)%a],c[d],c[(d+1)%a],c[(d+2)%a],g-d)}else{if(b<0){return c[0]-(e(c[0],c[0],c[1],c[1],-g)-c[0])}if(b>1){return c[a]-(e(c[a],c[a],c[a-1],c[a-1],g-a)-c[a])}return e(c[d?d-1:0],c[d],c[a<d+1?a:d+1],c[a<d+2?a:d+2],g-d)}},Utils:{Linear:function(c,b,a){return(b-c)*a+c},Bernstein:function(c,a){var b=TWEEN.Interpolation.Utils.Factorial;return b(c)/b(a)/b(c-a)},Factorial:(function(){var b=[1];return function(d){var c=1;if(b[d]){return b[d]}for(var a=d;a>1;a--){c*=a}b[d]=c;return c}})(),CatmullRom:function(h,g,e,d,i){var f=(e-h)*0.5;var c=(d-g)*0.5;var b=i*i;var a=i*b;return(2*g-2*e+f+c)*a+(-3*g+3*e-2*f-c)*b+f*i+g}}};(function(a){if(typeof define==="function"&&define.amd){define([],function(){return TWEEN})}else{if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=TWEEN}else{if(a!==undefined){a.TWEEN=TWEEN}}}})(this);